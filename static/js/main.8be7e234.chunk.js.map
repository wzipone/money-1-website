{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/money/CategorySection.tsx","components/Input.tsx","views/money/NoteSection.tsx","views/money/NumberPadSection/Wrapper.tsx","views/money/NumberPadSection.tsx","views/money/NumberPadSection/generateOutput.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/money/TagsSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NoMatch.tsx","views/tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","main","Layout","mainRef","useRef","useEffect","current","scrollTop","ref","section","categoryMap","CategorySection","useState","categoryList","c","value","onClick","onChange","key","Label","label","Input","NoteSection","type","placeholder","defaultValue","target","outputStr","NumberPadSection","text","textContent","split","concat","indexOf","output","slice","generateOutput","amount","length","parseFloat","setOutput","onOk","parseInt","window","localStorage","getItem","createId","setItem","toString","useUpdate","fn","deps","count","useTags","localTags","JSON","parse","initTags","tags","setTags","stringify","findTag","filter","tag","updateTag","deleteTag","addTag","tagName","prompt","findTagIndex","TagsSection","selectedTags","setSelectedTags","tagId","t","useRecords","records","setRecords","addRecord","newRecord","alert","tagIds","createAt","Date","toISOString","MyLayout","defaultFormData","note","category","Money","selected","setSelected","obj","CategoryWrapper","Item","Header","h3","Statistics","setCategory","selectedRecords","r","hash","day","format","push","array","entries","sort","a","b","date","reduce","result","span","index","arr","Button","button","Center","Space","TagList","ol","Tags","NoMatch","Topbar","header","InputWrapper","Tag","useParams","reactHistory","useHistory","goBack","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8be7e234.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 40,\n\t\"./left.svg\": 41,\n\t\"./money.svg\": 42,\n\t\"./right.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M93.09 930.91H1024V1024H0V0h93.09v930.91zm93.092-442.183h93.09v372.364h-93.09V488.727zm209.454-139.636h93.091v512h-93.09v-512zm209.455 139.636h93.09v372.364h-93.09V488.727zm209.454-186.182h93.091v558.546h-93.09V302.545zM258.56 318l-51.665-77.452L442.182 83.689l205.382 136.936L830.16 58.298l61.86 69.586L655.708 337.92 442.182 195.584 258.56 317.999z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M325.818 546.91a35.142 35.142 0 01-24.669-10.24 34.676 34.676 0 010-49.34l372.364-372.363a34.91 34.91 0 0149.338 49.338L350.487 536.67a35.142 35.142 0 01-24.669 10.24z\\\" /><path d=\\\"M698.182 919.273a35.142 35.142 0 01-24.67-10.24L301.15 536.669a34.91 34.91 0 0149.338-49.338l372.364 372.364a34.676 34.676 0 010 49.338 35.142 35.142 0 01-24.67 10.24z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M851.2 57.6L608 465.067h211.2V537.6H561.067v115.2h260.266v72.533H561.067V966.4h-96V725.333H206.933V652.8h258.134V537.6H206.933v-72.533h211.2L172.8 57.6h106.667l234.666 401.067L746.667 57.6H851.2z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M698.182 477.09a35.142 35.142 0 0124.669 10.24 34.676 34.676 0 010 49.34L350.487 909.032a34.91 34.91 0 01-49.338-49.338L673.513 487.33a35.142 35.142 0 0124.669-10.24z\\\" /><path d=\\\"M325.818 104.727a35.142 35.142 0 0124.67 10.24L722.85 487.331a34.91 34.91 0 01-49.338 49.338L301.149 164.305a34.676 34.676 0 010-49.338 35.142 35.142 0 0124.67-10.24z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M814 122.8l-264.6 12.7c-35.1 1.7-68.3 16.4-93.1 41.2L107.7 525.3c-31.1 31.1-31.1 81.6 0 112.7l277.2 277.2c31.1 31.1 81.6 31.1 112.7 0l14.3-14.3 92.1-92.1 242.2-242.2c24.8-24.8 39.5-58 41.2-93.1l12.7-264.6c2.3-48.5-37.6-88.4-86.1-86.1zM689.6 470c-37.8 37.8-99 37.8-136.8 0s-37.8-99 0-136.8c37.8-37.8 99-37.8 136.8 0 37.8 37.8 37.8 99.1 0 136.8z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from \"react\";\r\nimport cs from 'classnames'\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('../icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\ntype Props = {\r\n  name?: string ;//?:表示可有可没有\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n  const {name, children,className, ...rest} = props;//防止里面又className将原先的覆盖\r\n  return  (\r\n    // <svg className={`icon ${className || ''}`}  {...rest}>\r\n    <svg className={cs('icon',className)}  {...rest}>\r\n    {props.name && <use xlinkHref={'#' + props.name} />}\r\n    </svg>\r\n  )\r\n};\r\nexport  default Icon;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Icon from './Icon';\r\n\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  background-color: #fff;\r\n  >ul{\r\n    display: flex;\r\n    >li{\r\n      flex-grow: 1;\r\n      text-align: center;\r\n      >a{\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        padding: 6.5px 0;\r\n        &.selected{\r\n          color: red;\r\n          .icon{\r\n            fill: red;\r\n          }\r\n        }\r\n      }\r\n      .icon{\r\n        width: 24px;\r\n        height: 24px;\r\n      }\r\n      \r\n    }\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n            <Icon name=\"tag\" />\r\n            标签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/money\" activeClassName=\"selected\">\r\n            <Icon name=\"money\" />\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n            <Icon name=\"chart\" />\r\n            统计\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  )\r\n};\r\n\r\nexport default Nav;","import Nav from './Nav';\r\nimport styled from 'styled-components';\r\nimport React, {useRef, useEffect} from 'react';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Main = styled.main`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\ntype Props = {\r\n  className?: string;\r\n  scrollTop?: number;\r\n};\r\n\r\nconst Layout: React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    if(!mainRef) return;\r\n    if (!mainRef.current) return;\r\n    mainRef.current.scrollTop = props.scrollTop!;\r\n  }, []);\r\n  return (\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Layout;","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  >ul{\r\n  display: flex;\r\n    >li{\r\n      flex-grow: 1;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      &.selected{\r\n        box-shadow: 0 -3px 0 0 #333 inset;\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst categoryMap = {'-': '支出', '+': '收入'};\r\n\r\ntype Keys = keyof typeof categoryMap;\r\ntype Props = {\r\n  value: '-' | '+';\r\n  onChange: (category :Keys) => void;\r\n}\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n\r\n\r\n  const [categoryList] = useState<Keys[]>(['-', '+']);\r\n\r\n  // const [categoryList] = useState<('-' | '+')[]>(['-', '+']) // 写在函数调用后,表示能接受的参数类型?还是返回类型?(我觉得应该是返回值的类型)\r\n\r\n  // const [categoryList] = useState(['-', '+']) // 写在函数调用后,表示能接受的参数类型\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li className={props.value === c ? 'selected' : ''}\r\n              onClick={() => {props.onChange(c);}}\r\n              key={c}\r\n          >{categoryMap[c]}</li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {CategorySection};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    >span{\r\n      margin-right: 16px;\r\n    }  \r\n    >input{\r\n      flex-grow: 1;\r\n      height: 44px;\r\n      background: none;\r\n    }\r\n`;\r\n\r\n\r\ntype Props = {\r\n  label: string;\r\n} & React.ComponentPropsWithRef<'input'>;\r\nconst Input:React.FC<Props> = (props) => {\r\n  const {label, children, ...rest} = props;\r\n  return (\r\n    <Label>\r\n      <span>{label}</span>\r\n      <input {...rest} />\r\n    </Label>\r\n  );\r\n};\r\nexport {Input};","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n  background-color: #f5f5f5;\r\n  padding: 0 16px;\r\n  font-size: 14px;\r\n  >label{\r\n    display: flex;\r\n    align-items: center;\r\n    >span{\r\n      margin-right: 16px;\r\n    }  \r\n    >input{\r\n      flex-grow: 1;\r\n      height: 72px;\r\n      background: none;\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (note: string)=>void;\r\n};\r\n// 非受控组件,中间的过程不关心,只关心结果是什么样的,通过ref\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n\r\n  const onChange:React.ChangeEventHandler<HTMLInputElement> = (e)=>{\r\n    props.onChange((e.target as HTMLInputElement).value);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Input label=\"备注\" type=\"text\" placeholder=\"请在这里添加备注\" defaultValue={props.value} onChange={onChange}/>\r\n      {/*<label>*/}\r\n      {/*  <span>备注</span>*/}\r\n      {/*  <input type=\"text\" placeholder=\"请在这里添加备注\"*/}\r\n      {/*         ref={refInput}*/}\r\n      {/*         defaultValue={props.value}*/}\r\n      {/*         onBlur={onBlur}*/}\r\n      {/*  />*/}\r\n      {/*</label>*/}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {NoteSection};","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  >.output{\r\n    background-color: #fff;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, .25),inset 0 5px 5px -5px rgba(0, 0, 0, .25);\r\n  }\r\n  >.pad{\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  height: 256px;\r\n\r\n    >button{\r\n      width: 25%;\r\n      height: 64px;\r\n      font-size: 18px;\r\n      &.ok{\r\n        height: 128px;\r\n      }\r\n      &:nth-child(1){\r\n        background-color: #f2f2f2;\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(5){\r\n        background-color: #e0e0e0;\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9){\r\n        background-color: #d3d3d3;\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10),\r\n      &:nth-child(13){\r\n        background-color: #c1c1c1;\r\n      }\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(14){\r\n        background-color: #b8b8b8;\r\n      }\r\n      &:nth-child(12){\r\n        background-color: #a9a9a9;\r\n      }\r\n      &:nth-child(15){\r\n        background-color: #9a9a9a;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport {Wrapper};","import React from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {generateOutput} from './NumberPadSection/generateOutput';\n\n\ntype Props = {\n  value: number;\n  onChange: (amount: number) => void;\n  onOk?: () => void;\n};\nlet outputStr = '0';\nconst NumberPadSection: React.FC<Props> = (props) => {\n  console.log('NumberPadSection刷新了');\n  // const [output, _setOutput] = useState(props.value.toString());//思路二、使用useState，让NumberPadSection维持自己的数据，\n  //展示自己的数据（State），将自己的数据传递给父组件（这里子组件的渲染，和父组件触发子组件的渲染合并？还是说父组件何时会触发子组件的渲染？）\n  const setOutput = (o: string) => {\n    let amount = o;\n    if (o.length > 16) { // 限制最多16位\n      amount = o.slice(0, 16);\n    } else if (o.indexOf('.') === 15) { //最后一位不能是点\n      amount = o.slice(0, 15);\n    } else if (o === '') { //当空时，重置位0\n      amount = '0';\n      outputStr = '0'\n    }\n    // _setOutput(amount);\n    props.onChange(parseFloat(amount));\n  };\n\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) return;\n    if (text === 'ok') {\n      props.onOk && props.onOk();\n      return;\n    }\n    if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n      outputStr = generateOutput(text, outputStr);\n      console.log(outputStr);\n      setOutput(outputStr);\n      // const newOutput = generateOutput(text, output);\n      // console.log(newOutput);\n      // setOutput(newOutput);\n    }\n  };\n\n  return (\n    <Wrapper>\n      <div className=\"output\">\n        {/*{output}*/}\n        {outputStr}\n      </div>\n      <div className=\"pad\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>4</button>\n        <button>7</button>\n        <button>0</button>\n        <button>2</button>\n        <button>5</button>\n        <button>8</button>\n        <button>.</button>\n        <button>3</button>\n        <button>6</button>\n        <button>9</button>\n        <button>+</button>\n        <button>删除</button>\n        <button>清空</button>\n        <button className=\"ok\" onClick={props.onOk}>OK</button>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport {NumberPadSection};","// type InputStirng = '1' | '2' ...\r\nconst generateOutput = (text: string, output: string) => {\r\n  switch (text) {\r\n    case \"0\":\r\n    case \"1\":\r\n    case \"2\":\r\n    case \"3\":\r\n    case \"4\":\r\n    case \"5\":\r\n    case \"6\":\r\n    case \"7\":\r\n    case \"8\":\r\n    case \"9\":\r\n      if (output === \"0\") {\r\n        // 数字为0时，替换0\r\n        return text;\r\n      } else {\r\n        // 不为 0 时追加\r\n        return output + text;\r\n      }\r\n    case \".\":\r\n      if (output.indexOf(\".\") > 0) return output;\r\n      return output + \".\";\r\n    case \"删除\":\r\n      return output.slice(0, -1) || '';\r\n    case \"清空\":\r\n      return '';\r\n    default: \r\n      return '';\r\n  }\r\n};\r\n\r\nexport { generateOutput };\r\n","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = (): number => { // 函数封装法的好处就是简单\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', id.toString());\r\n  return id;\r\n};\r\nexport {createId};","import {useRef, useEffect} from 'react';\r\n//这里的useRef，...没有说是属于任何一个组件的，是每个组件从react上拿到就可以直接用的，所以可以直接这样封装成函数\r\n\r\nconst useUpdate = (fn: () => void, deps: any) => {\r\n  const count = useRef(0);\r\n  useEffect(() => { //每次setState（渲染）都会执行\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn,deps]);// 如果在之前的tags基础上修改，这个钩子就不会触发\r\n  // 这里deps写的不是数组字面量的形式会产生一个警告\r\n};\r\n\r\nexport {useUpdate};","import {useState, useEffect} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst initTags = () => { //这样可以避免 中间必须多一次 undefined --> [] 的渲染\r\n  let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n  if (localTags.length === 0) {\r\n    localTags = [\r\n      {id: createId(), name: '衣'},\r\n      {id: createId(), name: '食'},\r\n      {id: createId(), name: '住'},\r\n      {id: createId(), name: '行'}\r\n    ];\r\n  }\r\n  return localTags;\r\n};\r\nconst useTags = () => {\r\n    const [tags, setTags] = useState<{ id: number; name: string }[]>(initTags());\r\n    useEffect(() => {\r\n      // let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n      // if (localTags.length === 0) {\r\n      //   localTags = [\r\n      //     {id: createId(), name: '衣'},\r\n      //     {id: createId(), name: '食'},\r\n      //     {id: createId(), name: '住'},\r\n      //     {id: createId(), name: '行'}\r\n      //   ];\r\n      // }\r\n      // setTags(localTags);\r\n\r\n    }, []);\r\n\r\n    useUpdate(() => { // 如果tags更新了但是不包含第一次更新，就执行这个fn\r\n      window.localStorage.setItem('tags', JSON.stringify(tags));\r\n    }, tags);\r\n\r\n\r\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n    const findTagIndex = (id: number) => tags.indexOf(findTag((id)));\r\n\r\n    const updateTag = (id: number, name: string) => { //obj:{name:string}\r\n        // const tag = findTag(id);\r\n        // tag.name = name;\r\n        // setTags([...tags]);  //我知道为什么这里是修改成功了，因为这里修改的就是defaultTags对象，每次useTags也会读取这个对象\r\n        //----------\r\n        // const index = findTagIndex(id);\r\n        // const tagsClone = JSON.parse(JSON.stringify(tags));\r\n        // tagsClone[index].name = name;\r\n        // setTags(tagsClone);\r\n        //-------------\r\n        setTags(tags.map(tag => tag.id === id ? {id, name} : tag));\r\n      }\r\n    ;\r\n\r\n    const deleteTag = (id: number) => {\r\n      setTags(tags.filter(tag => tag.id !== id));\r\n      // const index = findTagIndex(id);\r\n      // const tagsClone = JSON.parse(JSON.stringify(tags));\r\n      // tagsClone.splice(index, 1);add\r\n      // setTags(tagsClone);\r\n    };\r\n\r\n    const addTag = () => {\r\n      const tagName = prompt('请输入新增的标签名');\r\n      tagName && setTags([...tags, {id: createId(), name: tagName}]);\r\n\r\n    };\r\n    return {tags, setTags, findTag, updateTag, deleteTag, addTag, findTagIndex};\r\n  }\r\n;\r\n\r\nexport {useTags};","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\n\r\nconst Wrapper = styled.section`\r\n  background-color: #fff;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  >ol{\r\n    margin:0 -12px;  \r\n    >li{\r\n      background-color: #d9d9d9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      margin: 8px 12px;\r\n      font-size: 14px;\r\n      &.selected{\r\n        background-color: #f60;\r\n      }\r\n    }\r\n  }\r\n  >button{\r\n    background: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: number[];\r\n  onChange: (value: number[]) => void;\r\n}\r\n\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  // const [tags, setTags] = useState<string[]>(['衣', '食', '住', '行']);\r\n  const {tags,addTag}=useTags();\r\n\r\n  // const [selectedTags, setSelectedTags] = useState<string[]>([]);\r\n  const selectedTags = props.value;\r\n  const setSelectedTags = props.onChange;\r\n\r\n  const onToggleTag = (tagId: number) => {\r\n    if (selectedTags.indexOf(tagId) >= 0) {\r\n      //如果tag已经被选中，就复制所有没有被选中的的tag，作为selectedTag\r\n      setSelectedTags(selectedTags.filter(t => t !== tagId));\r\n    } else {\r\n      setSelectedTags([...selectedTags, tagId]);\r\n    }\r\n  };\r\n\r\n  const markSelectedTag = (tagId: number) => selectedTags.indexOf(tagId) >= 0 ? 'selected' : '';\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map(tag =>\r\n          <li key={tag.id} onClick={\r\n            () => onToggleTag(tag.id)\r\n          } className={markSelectedTag(tag.id)}\r\n          >\r\n            {tag.name}\r\n          </li>\r\n        )}\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {TagsSection};","import {useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[];\r\n  note: string;\r\n  category: '-' | '+';\r\n  amount: number;\r\n  createAt: string; // ISO 8601 国际标准的字符串格式\r\n}\r\ntype NewRecordItem = Omit<RecordItem, 'createAt'>\r\n\r\nconst initRecords = () => {\r\n  return JSON.parse(window.localStorage.getItem('records') || '[]');\r\n};\r\n\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>(initRecords());\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, records);\r\n\r\n  const addRecord = (newRecord: NewRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      alert('请输入金额');\r\n      return false;\r\n    }\r\n\r\n    if (newRecord.tagIds.length === 0) {\r\n\r\n      return false;\r\n    }\r\n    setRecords([...records, {...newRecord, createAt: (new Date()).toISOString()}]);\r\n    return true;\r\n  };\r\n\r\n  return {addRecord, records};\r\n};","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {CategorySection} from './money/CategorySection';\nimport {NoteSection} from './money/NoteSection';\nimport {NumberPadSection} from './money/NumberPadSection';\nimport {TagsSection} from './money/TagsSection';\nimport {useRecords} from '../hooks/useRecords';\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\ntype Category = '-' | '+'\n\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n};\n\nconst Money = () => {\n  console.log('Money刷新了');\n  const [selected, setSelected] = useState(defaultFormData);\n\n  const {addRecord} = useRecords();\n\n  const submit = () => {\n    if (addRecord(selected)) {\n      alert('保存成功');\n      setSelected(defaultFormData);\n    }\n  };\n\n  type Selected = typeof selected;\n  const onChange = (obj: Partial<Selected>) => {\n    setSelected({\n      ...selected,\n      ...obj\n    });\n  };\n\n  const CategoryWrapper = styled.div`\n    background-color: #c4c4c4;\n  `;\n\n  return (\n    <MyLayout scrollTop={9999}>\n      {JSON.stringify(selected)}\n      <TagsSection value={selected.tagIds}\n                   onChange={tagIds => onChange({tagIds})}/>\n      <NoteSection value={selected.note}\n                   onChange={note => onChange({note})}/>\n     <CategoryWrapper>\n       <CategorySection value={selected.category}\n                        onChange={category => onChange({category})}/>\n     </CategoryWrapper>\n      <NumberPadSection value={selected.amount}\n                        onChange={amount => onChange({amount})}\n                        onOk={submit}/>\n    </MyLayout>\n  );\n};\n\nexport default Money;","import Layout from '../components/Layout';\r\nimport React, {useState, ReactNode} from 'react';\r\nimport {CategorySection} from './money/CategorySection';\r\nimport {useRecords, RecordItem} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\nimport styled from 'styled-components';\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background-color: white;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  > .note{\r\n    //margin-right: auto;\r\n    flex-grow: 1;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header = styled.h3`\r\n    font-size: 18px;\r\n    line-height: 20px;\r\n    padding: 10px 16px;\r\n`;\r\nconst Statistics = () => {\r\n  const [category, setCategory] = useState<'+' | '-'>('-');\r\n  const {records} = useRecords();\r\n  const {findTag} = useTags();\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n\r\n  const hash: { [key: string]: RecordItem[] } = {};\r\n\r\n  selectedRecords.forEach(r => { // forEach 就是不要返回值的map都是便利每一项\r\n    const key = day(r.createAt).format('YYYY年MM月DD');\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  // 把hash是对象不保证顺序，把其转成数组后再排序！！！\r\n  //引用core.js，再yarn.lock中查询有没有这个文件core-js\r\n  // 把对象的属性作为数组的第一项，属性值作为第二项\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] > b[0]) return -1;\r\n    if (a[0] < b[0]) return 1;\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection value={category}\r\n                         onChange={category => setCategory(category)}/>\r\n      </CategoryWrapper>\r\n\r\n      <div>\r\n        {array.map(([date, records]) =>\r\n          <>\r\n            <Header>{date}</Header>\r\n            {records.map(r =>\r\n              <Item>\r\n                <div className=\"tags\">{\r\n                  r.tagIds\r\n                    .map(tagId => <span key={tagId}>{findTag(tagId).name}</span>)\r\n                    .reduce((result, span, index, arr) => {\r\n                      return result.concat(index < arr.length - 1 ? [span, ','] : [span]);\r\n                    }, [] as ReactNode[])}</div>\r\n                {r.note && <div className=\"note\">{r.note}</div>}\r\n                <div className=\"amount\">¥&nbsp;{r.amount}</div>\r\n              </Item>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Statistics;","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  padding: 8px 12px;\r\n  background-color: #767676;\r\n  border-radius: 4px;\r\n  color: white;\r\n`;\r\n\r\nexport {Button};","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nexport {Center};","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nexport {Space};","import Layout from '../components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport { Link } from 'react-router-dom';\r\nimport {Button} from '../components/Button';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  padding: 0 16px;\r\n  background-color: #fff;\r\n  > li{\r\n    border-bottom: 1px solid #d5d5d9; \r\n    line-height: 20px;\r\n    > a{\r\n      padding: 12px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Tags = () => {\r\n  const {tags, addTag} = useTags();\r\n\r\n\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map(tag=><li key={tag.id}>\r\n          <Link to={'/tags/'+tag.id}>\r\n            <span className=\"oneLine\">{tag.name}</span>\r\n            <Icon name=\"right\"/>\r\n          </Link>\r\n        </li>)}\r\n      </TagList>\r\n      <Center>\r\n        <Space />\r\n        <Space />\r\n        <Space />\r\n        <Button onClick={addTag}>新增标签</Button>\r\n      </Center>\r\n\r\n    </Layout>\r\n  )\r\n};\r\n\r\nexport default Tags;","import React from 'react';\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n      <h2>404</h2>\r\n  )\r\n};\r\n\r\nexport default NoMatch;","import React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport {useParams, useHistory} from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\ntype Params = {\r\n  id: string;\r\n}\r\nconst Topbar = styled.header`\r\n  padding: 14px;\r\n  line-height: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-align: center;\r\n  background-color: #fff;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  background-color: white;\r\n  padding: 0 14px;\r\n  margin-top: 8px;\r\n`;\r\nconst Tag = () => {\r\n  const {findTag, updateTag, deleteTag, tags} = useTags();\r\n  const id = parseInt(useParams<Params>().id);\r\n  // let {id: idString} = useParams<Params>() id重命名位idString\r\n  const tag = findTag(id) || {name:'该标签已删除！'};\r\n  console.log(id);\r\n  console.log(tags);\r\n  const onChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    updateTag(id, e.target.value);\r\n  };\r\n  const reactHistory = useHistory();\r\n  const onClickBack = () => {\r\n    reactHistory.goBack();\r\n\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name=\"left\" onClick={onClickBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon name=\"\"/>\r\n      </Topbar>\r\n      <InputWrapper>\r\n        <Input label=\"标签\" type=\"text\" value={tag.name} placeholder={tag.name} onChange={onChange}/>\r\n      </InputWrapper>\r\n      <Center>\r\n        <Space/>\r\n        <Space/>\r\n        <Space/>\r\n        <Button onClick={() => deleteTag(id)}>删除标签</Button>\r\n      </Center>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport {Tag};","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\nimport Tags from './views/Tags';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/tag';\n\nconst AppWrapper = styled.div`\n  color: #333;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <Tag/>\n          </Route>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\" />\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}